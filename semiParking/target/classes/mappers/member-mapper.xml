<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="memberMapper">

	<!-- 
	 테이블을 설계 할 때, LAST_LOGIN은 가입 할 때, 디폴트 값을 두지 않았다.
	 이러한 이유는 회원 가입만 한거지 실제로 로그인 한 것은 아니기 때문에 LAST_LOGIN을 SYSDATE 값을 바로 주면 안된다.
	 
	 이러한 의미가 있어서 insertMember에는 LAST_LOGIN 컬럼을 넣지 않았습니다.
	 -->
    <insert id="insertMember" parameterType="Member">
    	INSERT INTO MEMBER(MEM_ID,
    					   MEM_NAME,
    					   MEM_PWD,
    					   VEHICLE_ID,
    					   EMAIL,
    					   PHONENUM)
    	VALUES(#{memId},#{memName},#{memPwd},#{vehicleId},#{email},#{phoneNum})				   
    </insert> 
    
    <select id="selectMember" parameterType="Member" resultType="Member">
    	SELECT MEM_ID,
    		   MEM_NAME,
    		   MEM_PWD,
    		   VEHICLE_ID,
    		   EMAIL,
    		   PHONENUM,
    		   STATUS,
    		   LAST_LOGIN  		    	
    	FROM MEMBER
    	WHERE MEM_ID= #{memId}
    	
    </select>
    
    
    <select id="selectMember2" parameterType="string" resultType="string">
    	SELECT MEM_ID
    	FROM MEMBER
    	WHERE MEM_ID= #{inputId}
    </select>
  	
  	<update id="updateDate" parameterType="Member">
  		UPDATE MEMBER
  		SET LAST_LOGIN = SYSDATE
  		WHERE MEM_ID = #{memId}
  	</update>

  	
  
</mapper>