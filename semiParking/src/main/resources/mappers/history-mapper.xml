<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="historyMapper">
  	
  	<select id="selectHistory" parameterType="string" resultType="History">	
  		SELECT REF_MID,
  			   SEARCH_CONTENT,
  			   TO_CHAR(H_DATE,'FMMM.FMDD') "H_DATE"
  		FROM HISTORY
  		WHERE REF_MID = #{memId}
  		ORDER BY H_DATE DESC 	    		
		<!-- 검색을 하는 것이므로 가장 최근에 검색한걸 맨위로 나오게 하자.--> 
  		<!-- 외래키로 연결 됐으니까 memId를 참조해야한다. -->
  		<!-- TO_CHAR(H_DATE,'FMMM.FMDD') "H_DATE"
  			 이렇게 작성한 이유는 1월 1일 같은 경우는 01.01로 표기된다. 0을 없애기 위함이다.
  			 
  			 또한 프로젝트 발표날짜가 1월 2일이기 때문에 1.2로 표현하는게 깔끔하다. 
  		 -->
  	</select>
  	
  	<insert id="insertContent" parameterType="map">
  		INSERT INTO HISTORY(REF_MID,
  							SEARCH_CONTENT)
		VALUES(#{memId},#{keyword})  	
		
		<!--hDate는 어차피 디폴트값이 SYSDATE니까 상관 없다.-->						
  	</insert>
  	
  	
  
</mapper>